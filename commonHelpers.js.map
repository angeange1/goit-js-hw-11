{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import {showLoader, hideLoader} from \"../main\"\nimport {inputValue} from \"../main\"\n\nexport function fetchImages() {\n  showLoader()\n  \n  const searchParams = new URLSearchParams({\n    key: \"43138394-89c4115d2b9d73778d19dc685\",\n    q: inputValue,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  })\n  const url = `https://pixabay.com/api/?${searchParams}`\n\n  return fetch(url).then(response => {\n    if (!response.ok) { throw new Error(response.status) }\n    else {\n      hideLoader()\n      return response.json()\n    }\n  })\n}","import iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nimport {gallery} from \"../main\"\n\nexport function renderImages(array) {\n  \n  if (!array.length) {\n    iziToast.error({\n      message: `❌ Sorry, there are no images matching your search query. Please try again!`\n    })\n  }\n  gallery.innerHTML = \"\"\n\n  const markup = array.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"image-item\">\n      <a href=\"${largeImageURL}\">\n        <img\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n        />\n        <ul class=\"image-description\">\n          <li>\n            <h3>Likes</h3>\n            <p><b>${likes}</b></p>\n          </li>\n          <li>\n            <h3>Views</h3>\n            <p><b>${views}</b></p>\n          </li>\n          <li>\n            <h3>Comments</h3>\n            <p><b>${comments}</b></p>\n          </li>\n          <li>\n            <h3>Downloads</h3>\n            <p><b>${downloads}</b></p>\n          </li>\n        </ul>\n      </a>\n    </li>`\n  })\n    .join(\"\")\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup)\n\n  const lightbox = new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: 250,})\n  lightbox.refresh()\n}","import iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nimport { fetchImages } from \"./js/pixabay-api\"\nimport { renderImages } from \"./js/render-functions\"\n\nexport const gallery = document.querySelector(\"ul\")\nexport let inputValue\n\nexport const showLoader = () => {loader.style.display = \"flex\"}\nexport const hideLoader = () => {loader.style.display = \"none\"}\n\nconst form = document.querySelector(\"form\")\nconst searchInput = document.querySelector(\"input\")\nconst loader = document.querySelector(\".loader\")\n\nloader.style.display = \"none\"\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault()\n\n  inputValue = searchInput.value.trim()\n\n  if (inputValue !== \"\") {\n  fetchImages(inputValue)\n    .then((images) => renderImages(images.hits))\n    .catch((error) => console.log(error)) \n  form.reset()\n  }\n  else {\n    gallery.innerHTML = \"\"\n    iziToast.info({\n      message: \"Please fill the field\",\n    })\n  }\n})\n\n// Невикористані експортовані змінні: export let inputValue експортується, \n// але не ясно, чи використовується він десь ще. \n// Якщо ні, розгляньте можливість не експортувати його."],"names":["fetchImages","showLoader","url","inputValue","response","hideLoader","renderImages","array","iziToast","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","loader","form","searchInput","event","images","error"],"mappings":"6vBAGO,SAASA,GAAc,CAC5BC,EAAY,EASZ,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAEpD,OAAO,MAAMD,CAAG,EAAE,KAAKE,GAAY,CACjC,GAAKA,EAAS,GAEZ,OAAAC,EAAY,EACLD,EAAS,KAAM,EAHJ,MAAM,IAAI,MAAMA,EAAS,MAAM,CAKvD,CAAG,CACH,CCfO,SAASE,EAAaC,EAAO,CAE7BA,EAAM,QACTC,EAAS,MAAM,CACb,QAAS,4EACf,CAAK,EAEHC,EAAQ,UAAY,GAEpB,MAAMC,EAASH,EAAM,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACvF;AAAA,iBACML,CAAa;AAAA;AAAA,iBAEbD,CAAY;AAAA,yBACJC,CAAa;AAAA,iBACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKDC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAK1B,EACE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,EAE7B,IAAIQ,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,IAAK,EAClF,QAAS,CACpB,CC3CO,MAAMT,EAAU,SAAS,cAAc,IAAI,EAC3C,IAAIN,EAEJ,MAAMF,EAAa,IAAM,CAACkB,EAAO,MAAM,QAAU,MAAM,EACjDd,EAAa,IAAM,CAACc,EAAO,MAAM,QAAU,MAAM,EAExDC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,OAAO,EAC5CF,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBC,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAgB,EAEtBnB,EAAakB,EAAY,MAAM,KAAM,EAEjClB,IAAe,IACnBH,EAAsB,EACnB,KAAMuB,GAAWjB,EAAaiB,EAAO,IAAI,CAAC,EAC1C,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACtCJ,EAAK,MAAO,IAGVX,EAAQ,UAAY,GACpBD,EAAS,KAAK,CACZ,QAAS,uBACf,CAAK,EAEL,CAAC"}